(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(39),c=r.n(s),o=r(4),i=r(63),l=(r(77),r(15)),d=r(12),u=r(0),j=Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(u.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),h=Object(u.jsx)("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 4H6a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-2m-4-1v8m0 0l3-3m-3 3L9 8m-5 5h2.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293h3.172a1 1 0 00.707-.293l2.414-2.414a1 1 0 01.707-.293H20"})}),b=Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(u.jsx)("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),m=function(){return Object(u.jsxs)("div",{className:"bg-primary bg-opacity-90 flex flex-col justify-evenly items-center h-screen",children:[Object(u.jsx)("div",{className:"text-6xl text-white",children:"Household"}),Object(u.jsxs)("div",{className:"flex w-3/4 justify-around",children:[Object(u.jsx)(l.b,{to:"/login",className:"pr-btn",children:"Login"}),Object(u.jsx)(l.b,{to:"/register",className:"pr-btn",children:"Sign up"})]}),Object(u.jsx)("div",{className:"text-white mx-6 text-lg text-center",children:"Handle your household finances with the push of a button"}),Object(u.jsxs)("div",{className:"grid grid-cols-3 grid-rows-3 text-center place-items-center w-1/2",children:[Object(u.jsx)("div",{className:" pb-2 text-center col-span-3",children:"Developed by Matthew Baxendale"}),Object(u.jsx)("div",{className:"hidden sm:block",children:"Check out the Code"}),Object(u.jsx)("div",{className:"hidden sm:block",children:"Check out the Developer"}),Object(u.jsx)("div",{className:"hidden sm:block",children:"Get in Touch"}),Object(u.jsx)("div",{children:Object(u.jsx)("a",{href:"https://github.com/mbaxendale22/SEI-Project-4",target:"_blank",rel:"noreferrer",children:j})}),Object(u.jsx)("div",{children:Object(u.jsx)("a",{href:"https://www.linkedin.com/in/matthew-baxendale/",target:"_blank",rel:"noreferrer",children:b})}),Object(u.jsx)("div",{children:Object(u.jsx)("a",{href:"mailto:mdbaxendale1@gmail.com",target:"_blank",rel:"noreferrer",children:h})}),Object(u.jsx)("div",{})]})]})},x=r(10),p=r(8),f=r(2),v=r.n(f),O=r(5),g=r(6),w=r(9),y=r.n(w),N=function(){return window.localStorage.getItem("token")},k=function(){var e=N();if(e){var t=e.split(".");if(!(t.length<3)){var r=t[1];return JSON.parse(atob(r))}}},C=r(66),S={common:{"X-CSRFTOKEN":r.n(C).a.get("csrftoken")},headers:{Authorization:"Bearer ".concat(N())}},Q=S.common,M=new Date,D="".concat(M.getFullYear(),"-").concat(M.getMonth()+1,"-01"),F="".concat(M.getFullYear(),"-").concat(M.getMonth()+1,"-31"),E=("".concat(M.getFullYear(),"-").concat(M.getMonth()-1,"-01"),"".concat(M.getFullYear(),"-").concat(M.getMonth(),"-31"),function(){var e=Object(O.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/users/login/",t,{headers:{common:Q}});case 2:r=e.sent,n=r.data,a=n.token,window.localStorage.setItem("token",a);case 5:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()),L=function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/users/register/",t,{headers:{common:Q}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(O.a)(v.a.mark((function e(){var t,r,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(),r=t.sub,e.next=3,y.a.get("/api/users/".concat(r,"/"),{headers:{common:Q}});case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(O.a)(v.a.mark((function e(){var t,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(),r=t.sub,e.next=3,y.a.delete("/api/users/".concat(r,"/"),{headers:{common:Q}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(O.a)(v.a.mark((function e(){var t,r,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(),r=t.sub,e.next=3,y.a.get("/api/personal-expenses/category/?start=".concat(D,"&end=").concat(F,"&owner=").concat(r),{headers:{common:Q}});case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(O.a)(v.a.mark((function e(){var t,r,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(),r=t.sub,e.next=3,y.a.get("/api/personal-expenses/dates/?start=".concat(D,"&end=").concat(F,"&owner=").concat(r),{headers:{common:Q}});case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(O.a)(v.a.mark((function e(){var t,r,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(),r=t.sub,e.next=3,y.a.get("/api/personal-expenses/monthly/?start=".concat(D,"&end=").concat(F,"&owner=").concat(r),{headers:{common:Q}});case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(O.a)(v.a.mark((function e(){var t,r,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(),r=t.sub,e.next=3,y.a.get("/api/personal-expenses/largest/?start=".concat(D,"&end=").concat(F,"&owner=").concat(r),{headers:{common:Q}});case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(O.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/personal-expenses/",t,{headers:{common:Q}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(O.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/shared-expenses/",t,{headers:{common:Q}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(O.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("/api/personal-expenses/".concat(t,"/"),{headers:{common:Q}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(O.a)(v.a.mark((function e(t,r){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("/api/shared-expenses/".concat(r.id,"/"),{data:{creator:r.creator,name:r.name,category:r.category,date:r.date,household:t.household},headers:{common:Q}});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),A=function(){var e=Object(O.a)(v.a.mark((function e(t,r){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put("/api/personal-expenses/".concat(t,"/"),r,{headers:{common:Q}});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),J=function(){var e=Object(O.a)(v.a.mark((function e(t,r){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put("/api/shared-expenses/resolve/".concat(t,"/"),r,{headers:{common:Q}});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),W=function(){var e=Object(d.f)(),t=Object(n.useState)({username:"",password:""}),r=Object(g.a)(t,2),a=r[0],s=r[1],c=Object(o.useMutation)(E,{onSuccess:function(){e.push("/dashboard")}}),i=c.mutate,j=c.isError,h=function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),i(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=Object(p.a)(Object(p.a)({},a),{},Object(x.a)({},e.target.name,e.target.value));s(t)};return Object(u.jsxs)("div",{className:"bg-primary bg-opacity-100 h-screen flex flex-col justify-center items-center",children:[Object(u.jsxs)("form",{onSubmit:h,className:" border-r-2 border-t-2 border-white shadow-md h-3/6 w-7/12 flex items-center justify-evenly flex-col",children:[Object(u.jsx)("div",{className:"w-3/4 flex flex-col",children:Object(u.jsx)("input",{onChange:b,type:"email",name:"email",placeholder:"email...",className:" rounded-md mt-3 p-1 bg-primary border-b-2 focus:outline-none placeholder-white"})}),Object(u.jsx)("div",{className:"w-3/4 flex flex-col",children:Object(u.jsx)("input",{onChange:b,type:"password",name:"password",placeholder:"password...",className:"rounded-md mt-3 p-1 bg-primary border-b-2 focus:outline-none placeholder-white"})}),Object(u.jsx)("button",{className:"pr-btn bg-opacity-95 w-3/4 ",children:"Sign In"}),j&&Object(u.jsx)("div",{className:"pr-btn bg-opacity-95 w-3/4 bg-red-700 text-white",children:"Incorrect email or password"})]}),Object(u.jsxs)("div",{className:"mt-8 w-full flex flex-col items-center space-y-3",children:[Object(u.jsx)("p",{className:"text-white",children:"Not signed up?"}),Object(u.jsx)(l.b,{to:"/register",className:"alt-btn",children:"Sign Up"})]})]})},_=function(){var e=Object(d.f)(),t=Object(n.useState)({username:"",email:"",password:"",password_confirmation:""}),r=Object(g.a)(t,2),a=r[0],s=r[1],c=Object(o.useMutation)(L,{onSuccess:function(){return e.push("/login")}}),i=c.mutate,j=c.isError,h=function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),i(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=Object(p.a)(Object(p.a)({},a),{},Object(x.a)({},e.target.name,e.target.value));s(t)};return Object(u.jsxs)("div",{className:"bg-primary bg-opacity-100 h-screen flex flex-col justify-center items-center",children:[Object(u.jsxs)("form",{onSubmit:h,className:" border-r-2 border-t-2 border-white shadow-md h-4/6 w-7/12 flex items-center justify-evenly flex-col",children:[Object(u.jsxs)("div",{className:"w-3/4 flex flex-col",children:[Object(u.jsx)("label",{htmlFor:"username",className:"",children:"Username"}),Object(u.jsx)("input",{onChange:b,type:"text",name:"username",placeholder:"username...",className:"rounded-md mt-3 p-1 bg-primary border-b-2 focus:outline-none placeholder-white"})]}),Object(u.jsxs)("div",{className:"w-3/4 flex flex-col",children:[Object(u.jsxs)("label",{htmlFor:"email",className:"",children:["Email",Object(u.jsx)("span",{className:"text-white",children:"*"})]}),Object(u.jsx)("input",{onChange:b,type:"email",name:"email",placeholder:"email...",className:" rounded-md mt-3 p-1 bg-primary border-b-2 focus:outline-none placeholder-white"})]}),Object(u.jsxs)("div",{className:"w-3/4 flex flex-col",children:[Object(u.jsx)("label",{htmlFor:"password",className:"",children:"Password"}),Object(u.jsx)("input",{onChange:b,type:"password",name:"password",placeholder:"password...",className:"rrounded-md mt-3 p-1 bg-primary border-b-2 focus:outline-none placeholder-white"})]}),Object(u.jsxs)("div",{className:"w-3/4 flex flex-col",children:[Object(u.jsx)("label",{htmlFor:"passwordConfirmation",className:"",children:"Confirm Password"}),Object(u.jsx)("input",{onChange:b,type:"password",name:"password_confirmation",placeholder:"confirm password...",className:"rounded-md mt-3 p-1 bg-primary border-b-2 focus:outline-none placeholder-white"})]}),Object(u.jsx)("button",{className:"pr-btn bg-opacity-95 w-3/4 ",children:"Sign Up"}),j&&Object(u.jsx)("div",{className:"pr-btn bg-opacity-95 w-3/4 bg-red-700 text-white",children:"Check your passwords match"})]}),Object(u.jsxs)("div",{className:"mt-8 w-full flex flex-col gap-3 items-center",children:[Object(u.jsx)("p",{className:"text-black text-xs sm:text-base",children:"Already signed up?"}),Object(u.jsx)(l.b,{to:"/login",className:"alt-btn",children:"Sign In"})]}),Object(u.jsx)("div",{className:"flex flex-col items-center text-center text-white text-xs mt-4 sm:text-base",children:Object(u.jsx)("p",{children:"*No spaces in username, emails must be unique, however dummy emails are accepted. Please us a unique password with at least eight characters."})})]})},U=Object(u.jsx)("svg",{class:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})}),V=S.common,K=new Date,X="".concat(K.getFullYear(),"-").concat(K.getMonth()+1,"-01"),Z="".concat(K.getFullYear(),"-").concat(K.getMonth()+1,"-31"),$=function(){var e=Object(O.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/household/",t,{headers:{common:V}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(O.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),r=k(),n=r.sub,e.next=4,y.a.put("/api/users/update/".concat(n,"/"),t,{headers:{common:V}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(O.a)(v.a.mark((function e(){var t,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(),r=t.sub,e.next=3,y.a.put("/api/users/remove/".concat(r,"/"),{headers:{common:V}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(O.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/household/".concat(t,"/"),{headers:{common:V}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(O.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/household-expenses/recent/".concat(t,"/"),{headers:{common:V}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(O.a)(v.a.mark((function e(){var t,r,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(),r=t.sub,e.next=3,y.a.get("/api/household-expenses/category/?start=".concat(X,"&end=").concat(Z,"&owner=").concat(r),{headers:{common:V}});case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(O.a)(v.a.mark((function e(){var t,r,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(),r=t.sub,e.next=3,y.a.get("/api/household-expenses/monthly/?start=".concat(X,"&end=").concat(Z,"&owner=").concat(r),{headers:{common:V}});case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(O.a)(v.a.mark((function e(){var t,r,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(),r=t.sub,e.next=3,y.a.get("/api/household-expenses/largest/?start=".concat(X,"&end=").concat(Z,"&owner=").concat(r),{headers:{common:V}});case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(e){var t=e.user,r=Object(n.useState)(!1),a=Object(g.a)(r,2),s=a[0],c=a[1],i=(Object(o.useQuery)(["householdInfo",t.id],(function(){return re(t.household)})).data,Object(o.useQueryClient)()),j=Object(d.f)(),h=i.getQueryData(["householdInfo",t.id]),b=Object(o.useMutation)(Y,{onSuccess:function(){return j.push("/")}}).mutate;return Object(u.jsxs)("div",{className:"h-full w-full flex flex-col gap-5 sm:gap-10 pt-12 items-center",children:[Object(u.jsx)("div",{children:Object(u.jsxs)("p",{className:" text-xl sm:text-3xl font-semibold",children:["Welcome back ",null===t||void 0===t?void 0:t.username]})}),Object(u.jsx)("div",{className:"flex flex-col items-center gap-5 w-full sm:w-2/3",children:"number"===typeof t.household?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{children:["Your a member of ",null===h||void 0===h?void 0:h.name]}),Object(u.jsxs)("div",{children:["Your unique household ID is ",null===t||void 0===t?void 0:t.household]}),Object(u.jsx)(l.b,{to:"/manage-household",children:Object(u.jsx)("div",{className:"dashboard-btn px-8",children:"Manage your household details"})})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{children:"You're not yet a member of household click below to get started"}),Object(u.jsx)(l.b,{to:"/manage-household",children:Object(u.jsx)("div",{className:"dashboard-btn",children:"Join or create a household"})})]})}),Object(u.jsxs)("div",{className:" w-full px-4 sm:w-2/3 sm:px-0 flex flex-col items-center gap-10 transition-opacity",children:[Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("h2",{className:" text-xl sm:text-2xl pb-4",children:"How does household work?"}),Object(u.jsx)("p",{className:"text-sm sm:text-base",children:"If you want to use household for your personal finances simply click the menu icon to get started. Track your income, expenses and savings, and get up-to-date feedback on your spending habits and income streams"})]}),Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("h2",{className:" text-xl sm:text-2xl pb-4",children:"Sharing is caring"}),Object(u.jsx)("p",{className:"text-sm sm:text-base",children:"To get the most out of Household, join or create a household. Simply mark an expense as shared and let Household take care of the rest."}),Object(u.jsx)("p",{className:"text-sm sm:text-base",children:"When you've settled up with your household members, mark the expense as resolved to update everyone's personal finances."}),Object(u.jsx)("p",{className:"text-sm sm:text-base",children:"Finally, keep track of household expenses in the dedicated household dashboard"})]}),Object(u.jsx)("div",{onClick:function(){return c(!0)},className:"dashboard-btn w-3/4 sm:w-1/3 ",children:"Delete my Account"}),s&&Object(u.jsxs)("div",{className:"flex w-full sm:w-3/4 justify-center gap-4 -mt-4",children:[Object(u.jsx)("div",{onClick:function(){return b()},className:" dashboard-btn bg-red-700 text-white border-white shadow-md",children:"CONFIRM"}),Object(u.jsx)("div",{onClick:function(){return c(!1)},className:" dashboard-btn bg-green-700 text-white border-white shadow-md",children:"CANCEL"})]})]})]})},ie=function(e){var t=e.setNavigate,r=e.showSideBar,n=Object(d.f)(),a=function(e){t(e),r()};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("nav",{className:"z-20 flex flex-col items-center space-y-5 text-white w-full",children:[Object(u.jsx)("div",{onClick:function(){return a(0)},className:"hover:bg-red-300 w-full p-2 text-center",children:"Dashboard"}),Object(u.jsx)("div",{onClick:function(){return a(1)},className:"hover:bg-red-300 w-full p-2 text-center",children:"Income"}),Object(u.jsx)("div",{onClick:function(){return a(2)},className:"hover:bg-red-300 w-full p-2 text-center",children:"Expenses"}),Object(u.jsx)("div",{onClick:function(){return a(3)},className:"hover:bg-red-300 w-full p-2 text-center",children:"Savings"}),Object(u.jsx)("div",{onClick:function(){return a(4)},className:"hover:bg-red-300 w-full p-2 text-center",children:"Household"})]}),Object(u.jsx)("div",{onClick:function(){var e;window.localStorage.removeItem("token",e),n.push("/")},className:"text-center alt-btn mx-4 cursor-pointer transform hover:-translate-y-1",children:"Sign out"})]})},le=function(e){return e.share&&e.resolved?Object(u.jsx)("div",{className:"lg:border-2 md:border-green-400 text-green-400  w-3/4 rounded-md",children:"resolved"}):e.share&&!e.resolved?Object(u.jsx)("div",{className:"lg:border-2 md:border-primary text-primary w-3/4 rounded-md",children:"unresolved"}):Object(u.jsx)("div",{children:"resolved"})},de=function(e){return e.resolved?Object(u.jsx)("div",{className:"lg:border-2 md:border-green-400 text-green-400  w-3/4 rounded-md",children:"resolved"}):e.resolved?Object(u.jsx)("div",{children:"resolved"}):Object(u.jsx)("div",{className:"lg:border-2 md:border-primary text-primary w-3/4 rounded-md",children:"unresolved"})},ue=function(e){var t=e.split("-");return t.reverse(),t.join("-")},je=function(e){var t=e.setEditing,r=e.item,a=Object(o.useQueryClient)(),s=a.getQueryData(["userData"]),c=Object(n.useState)({name:r.name,category:r.category,amount:r.amount,date:r.date,share:r.share,resolved:r.resolved,household:s.household,owner:s.id,creator:s.id}),i=Object(g.a)(c,2),l=i[0],d=i[1],j={name:r.name,category:r.category,amount:parseFloat(r.amount),date:r.date,share:r.share,resolved:!0,household:s.household,owner:s.id,creator:s.id},h=Object(o.useMutation)((function(){return A(r.id,l)}),{onSuccess:function(){a.invalidateQueries("recent"),a.invalidateQueries("largest"),a.invalidateQueries("categories"),a.invalidateQueries("total"),t(!1)}}).mutate,b=Object(o.useMutation)((function(){return J(r.id,l)}),{onSuccess:function(){a.invalidateQueries("recent"),a.invalidateQueries("largest"),a.invalidateQueries("categories"),a.invalidateQueries("total"),t(!1)}}).mutate,m=Object(o.useMutation)((function(){return J(r.id,j)}),{onSuccess:function(){a.invalidateQueries("recent"),a.invalidateQueries("largest"),t(!1)}}).mutate,f=function(e){var t={};if("amount"===e.target.name)t=Object(p.a)(Object(p.a)({},l),{},Object(x.a)({},e.target.name,parseFloat(e.target.value))),d(t);else{var r=Object(p.a)(Object(p.a)({},l),{},Object(x.a)({},e.target.name,e.target.value));d(r)}},w=function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),!1===l.share?h(l):b(l);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log(l.share),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"h-full flex flex-col gap-10 items-center",children:Object(u.jsxs)("form",{onSubmit:w,className:"flex flex-col gap-7 mt-10 w-2/3",children:[Object(u.jsx)("input",{onChange:f,type:"text",name:"name",placeholder:r.name,className:"border-primary border-b-2 focus:outline-none"}),Object(u.jsxs)("select",{onChange:f,type:"text",name:"category",placeholder:"category",className:"border-primary border-b-2 focus:outline-none",children:[Object(u.jsx)("option",{children:r.category}),Object(u.jsx)("option",{value:"bills",children:"Bills"}),Object(u.jsx)("option",{value:"dining",children:"Eating Out"}),Object(u.jsx)("option",{value:"entertainment",children:"Entertainment"}),Object(u.jsx)("option",{value:"general",children:"General"}),Object(u.jsx)("option",{value:"grocery",children:"Grocery"}),Object(u.jsx)("option",{value:"retail",children:"Retail"}),Object(u.jsx)("option",{value:"transport",children:"Transport"}),Object(u.jsx)("option",{value:"travel",children:"Travel & Leisure"})]}),Object(u.jsx)("input",{onChange:f,type:"text",name:"amount",placeholder:r.amount,className:"border-primary border-b-2 focus:outline-none"}),Object(u.jsx)("input",{onChange:f,type:"date",name:"date",value:r.date,className:"border-primary border-b-2 focus:outline-none"}),Object(u.jsxs)("div",{className:"flex items-center justify-around my-4",children:[Object(u.jsx)("button",{className:"transaction-btn w-1/4 text-center",children:"Save"}),!0===l.share&&Object(u.jsx)("div",{onClick:function(){return m(j)},className:"md:border-2 md:border-green-400 text-green-400 px-4 py-2 text-center rounded-md transform hover:-translate-x-1 hover:-translate-y-1 duration-300 ease-in-out",children:"Resolve This Expense"}),Object(u.jsx)("div",{className:"transaction-btn w-1/4 text-center",onClick:function(){return t(!1)},children:"Go Back"})]})]})}),!0===l.share&&Object(u.jsxs)("p",{className:"text-xs sm:text-sm p-2 text-center",children:[" ","shared expenses cannot be edited, only be resolved or deleted"]})]})},he=function(e){var t=e.setShowModal,r=e.user,a=Object(n.useState)(),s=Object(g.a)(a,2),c=s[0],i=s[1],l=Object(n.useState)(!0),d=Object(g.a)(l,2),j=d[0],h=d[1],b=Object(o.useQueryClient)(),m=Object(o.useQuery)(["recent"],P),x=m.data,p=m.isError,f=m.isLoading,v=Object(o.useMutation)((function(e){return q(e)}),{onSuccess:function(){b.invalidateQueries("recent"),b.invalidateQueries("largest"),b.invalidateQueries("categories"),b.invalidateQueries("total")}}).mutate,O=Object(o.useMutation)((function(){z(r,c)}),{onSuccess:function(){b.invalidateQueries("recent"),b.invalidateQueries("largest"),b.invalidateQueries("categories"),b.invalidateQueries("total")}}).mutate,w=function(){"true"===c.share?O(r,c):v(c.id),h(!0)},y=Object(n.useState)(!1),N=Object(g.a)(y,2),k=N[0],C=N[1],S=Object(n.useState)({}),Q=Object(g.a)(S,2),M=Q[0],D=Q[1];return f?Object(u.jsx)("p",{children:"loading..."}):p?Object(u.jsx)("p",{children:"Something has gone wrong please try again later"}):k?Object(u.jsx)(je,{setEditing:C,item:M}):Object(u.jsxs)("section",{className:"h-full flex flex-col justify-evenly",children:[Object(u.jsx)("h2",{className:"text-center py-3",children:"Recent Expenses"}),Object(u.jsx)("div",{className:"grid grid-cols-1 gap-1 justify-items-center sm:grid-cols-8 h-48 sm:max-h-64 sm:h-full overflow-x-scroll sm:gap-2 text-center border-2 border-b",children:null===x||void 0===x?void 0:x.map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:ue(e.date)},x.id),Object(u.jsx)("div",{children:e.name}),Object(u.jsx)("div",{children:"entertainment"===e.category?Object(u.jsx)("p",{children:"ent"}):e.category}),Object(u.jsxs)("div",{children:["\xa3",e.amount]}),Object(u.jsx)("div",{className:e.share?" lg:border-2 border-green-400 text-green-400  w-3/4 rounded-md":"lg:border-2 border-primary text-primary w-3/4 rounded-md",children:"shared"}),le(e),Object(u.jsx)("div",{onClick:function(){D(e),C(!0)},className:"border-2 border-gray-400 hover:shadow-md w-1/4  sm:w-3/4 rounded-md transform hover:-translate-x-1",children:"edit"}),j?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{onClick:function(){return function(e){h(!1),i(e)}(e)},className:"border-2 border-gray-400 hover:shadow-md w-1/4 sm:w-3/4 rounded-md transform hover:-translate-x-1",children:"delete"}),Object(u.jsx)("hr",{className:"border-t-2 border-dotted w-3/4 border-primary rounded-3xl my-4 sm:hidden"})]}):Object(u.jsx)("div",{onClick:w,className:"border-2 border-primary hover:shadow-md w-3/4 rounded-md transform hover:-translate-x-1",children:"confirm"})]})}))}),Object(u.jsx)("div",{onClick:function(){return t(!0)},className:"border-2 m-auto my-2 border-gray-400 rounded-md hover:shadow-md transform hover:-translate-x-1 p-2 text-center w-1/2 sm:w-1/6",children:"Add Expense"})]})},be=function(e){var t=e.setShowModal,r=Object(o.useQueryClient)(),a=r.getQueryData(["userData"]),s=Object(n.useState)({name:"",category:"",amount:"",date:"",share:"false",resolved:"false",household:a.household,owner:a.id,creator:a.id}),c=Object(g.a)(s,2),i=c[0],l=c[1],d=Object(o.useMutation)(T,{onSuccess:function(){r.invalidateQueries("recent"),r.invalidateQueries("largest"),r.invalidateQueries("categories"),r.invalidateQueries("total"),t(!1)}}).mutate,j=Object(o.useMutation)(G,{onSuccess:function(){r.invalidateQueries("recent"),r.invalidateQueries("largest"),r.invalidateQueries("categories"),r.invalidateQueries("total"),t(!1)}}).mutate,h=function(e){var t={};if("amount"===e.target.name)t=Object(p.a)(Object(p.a)({},i),{},Object(x.a)({},e.target.name,parseFloat(e.target.value))),l(t);else{var r=Object(p.a)(Object(p.a)({},i),{},Object(x.a)({},e.target.name,e.target.value));l(r)}},b=function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log(i.share),"false"===i.share?d(i):j(i);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"h-full flex flex-col gap-10 items-center",children:Object(u.jsxs)("form",{onSubmit:b,className:"flex flex-col gap-7 mt-10 w-2/3",children:[Object(u.jsx)("input",{onChange:h,type:"text",name:"name",placeholder:"name",className:"border-primary border-b-2 focus:outline-none"}),Object(u.jsxs)("select",{onChange:h,type:"text",name:"category",placeholder:"category",className:"border-primary border-b-2 focus:outline-none",children:[Object(u.jsx)("option",{children:"choose category"}),Object(u.jsx)("option",{value:"bills",children:"Bills"}),Object(u.jsx)("option",{value:"dining",children:"Eating Out"}),Object(u.jsx)("option",{value:"entertainment",children:"Entertainment"}),Object(u.jsx)("option",{value:"general",children:"General"}),Object(u.jsx)("option",{value:"grocery",children:"Grocery"}),Object(u.jsx)("option",{value:"retail",children:"Retail"}),Object(u.jsx)("option",{value:"transport",children:"Transport"}),Object(u.jsx)("option",{value:"travel",children:"Travel & Leisure"})]}),Object(u.jsx)("input",{onChange:h,type:"text",name:"amount",placeholder:"amount",className:"border-primary border-b-2 focus:outline-none"}),Object(u.jsx)("input",{onChange:h,type:"date",name:"date",placeholder:"date",className:"border-primary border-b-2 focus:outline-none"}),Object(u.jsxs)("div",{className:"flex items-center justify-between",children:[Object(u.jsx)("p",{children:"Share with household?"}),Object(u.jsx)("label",{htmlFor:"true",children:"Yes"}),Object(u.jsx)("input",{onChange:h,type:"radio",value:"true",name:"share"}),Object(u.jsx)("label",{htmlFor:"no",children:"No"}),Object(u.jsx)("input",{onChange:h,type:"radio",value:"false",name:"share"})]}),Object(u.jsxs)("div",{className:"flex items-center justify-around",children:[Object(u.jsx)("button",{className:"transaction-btn w-1/4 text-center",children:"Save"}),Object(u.jsx)("div",{className:"transaction-btn w-1/4 text-center",onClick:function(){return t(!1)},children:"Go Back"})]})]})})},me=Object(u.jsx)("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 13l-7 7-7-7m14-8l-7 7-7-7"})}),xe=Object(u.jsx)("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 11l7-7 7 7M5 19l7-7 7 7"})}),pe=function(e){var t=e.user,r=e.move,a=Object(n.useState)(!1),s=Object(g.a)(a,2),c=s[0],o=s[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"w-full flex flex-col items-center gap-10 pt-12",children:[Object(u.jsx)("div",{children:Object(u.jsxs)("p",{children:[null===t||void 0===t?void 0:t.username,"'s Expenses"]})}),Object(u.jsx)("div",{className:" w-full h-3/4 text-xs md:text-sm sm:h-1/3 lg:text-base md:w-10/12 lg:w-3/4 md:h-2/3 border-primary border-2",children:c?Object(u.jsx)(be,{setShowModal:o}):Object(u.jsx)(he,{setShowModal:o,user:t})}),Object(u.jsx)("p",{children:"See An Overview of This Month's Expenses"}),Object(u.jsx)("span",{onClick:r,className:"transform hover:scale-150",children:me})]})})},fe=S.common,ve=new Date,Oe="".concat(ve.getFullYear(),"-").concat(ve.getMonth()+1,"-01"),ge="".concat(ve.getFullYear(),"-").concat(ve.getMonth()+1,"-31"),we=function(){var e=Object(O.a)(v.a.mark((function e(){var t,r,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(),r=t.sub,e.next=3,y.a.get("/api/personal-income/transactions/".concat(r,"/"),{headers:{common:fe}});case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(O.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/personal-income/",t,{headers:{common:fe}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(O.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("/api/personal-income/".concat(t,"/"),{headers:{common:fe}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(O.a)(v.a.mark((function e(t,r){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put("/api/personal-income/".concat(t,"/"),r,{headers:{common:fe}});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(O.a)(v.a.mark((function e(){var t,r,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(),r=t.sub,e.next=3,y.a.get("/api/personal-income/category/".concat(r,"/"),{headers:{common:fe}});case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(O.a)(v.a.mark((function e(){var t,r,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(),r=t.sub,e.next=3,y.a.get("/api/personal-income/largest/?start=".concat(Oe,"&end=").concat(ge,"&user=").concat(r),{headers:{common:fe}});case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(O.a)(v.a.mark((function e(){var t,r,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(),r=t.sub,e.next=3,y.a.get("/api/personal-income/monthly/?start=".concat(Oe,"&end=").concat(ge,"&user=").concat(r),{headers:{common:fe}});case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(e){var t=e.setEditing,r=e.item,a=Object(o.useQueryClient)(),s=a.getQueryData(["userData"]),c=Object(n.useState)({name:r.name,category:r.category,amount:r.amount,date:r.date,user:s.id}),i=Object(g.a)(c,2),l=i[0],d=i[1],j=Object(o.useMutation)((function(){return ke(r.id,l)}),{onSuccess:function(){a.invalidateQueries("income"),a.invalidateQueries("incomeCategories"),a.invalidateQueries("largestIncome"),a.invalidateQueries("total"),t(!1)}}).mutate,h=function(e){var t=Object(p.a)(Object(p.a)({},l),{},Object(x.a)({},e.target.name,e.target.value));d(t)},b=function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),j(l);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"h-full flex flex-col gap-10 items-center",children:Object(u.jsxs)("form",{onSubmit:b,className:"flex flex-col gap-7 mt-10 w-2/3",children:[Object(u.jsx)("input",{onChange:h,type:"text",name:"name",placeholder:r.name,className:"border-primary border-b-2 focus:outline-none"}),Object(u.jsxs)("select",{onChange:h,type:"text",name:"category",placeholder:"category",className:"border-primary border-b-2 focus:outline-none",children:[Object(u.jsx)("option",{children:r.category}),Object(u.jsx)("option",{value:"Paycheck",children:"Paycheck"}),Object(u.jsx)("option",{value:"Selling",children:"Selling"}),Object(u.jsx)("option",{value:"Passive",children:"Passive"}),Object(u.jsx)("option",{value:"Misc",children:"Misc"})]}),Object(u.jsx)("input",{onChange:h,type:"text",name:"amount",placeholder:r.amount,className:"border-primary border-b-2 focus:outline-none"}),Object(u.jsx)("input",{onChange:h,type:"date",name:"date",value:r.date,className:"border-primary border-b-2 focus:outline-none"}),Object(u.jsxs)("div",{className:"flex items-center justify-around",children:[Object(u.jsx)("button",{className:"transaction-btn w-1/4 text-center",children:"Save"}),Object(u.jsx)("div",{className:"transaction-btn w-1/4 text-center",onClick:function(){return t(!1)},children:"Go Back"})]})]})})},De=function(e){var t=e.setShowModal,r=Object(o.useQueryClient)(),a=Object(o.useQuery)("income",we),s=a.data,c=a.isError,i=a.isLoading,l=Object(o.useMutation)((function(e){return Ne(e)}),{onSuccess:function(){r.invalidateQueries("income"),r.invalidateQueries("incomeCategories"),r.invalidateQueries("largestIncome"),r.invalidateQueries("total")}}).mutate,d=Object(n.useState)(!1),j=Object(g.a)(d,2),h=j[0],b=j[1],m=Object(n.useState)({}),x=Object(g.a)(m,2),p=x[0],f=x[1];return i?Object(u.jsx)("p",{children:"loading..."}):c?Object(u.jsx)("p",{children:"Something has gone wrong please try again later"}):h?Object(u.jsx)(Me,{setEditing:b,item:p}):Object(u.jsxs)("section",{className:"h-full flex flex-col justify-evenly",children:[Object(u.jsx)("h2",{className:"text-center py-3",children:"Recent Income"}),Object(u.jsx)("div",{className:"grid grid-cols-1 gap-1 justify-items-center sm:grid-cols-6 h-48 sm:max-h-64 sm:h-full overflow-x-scroll sm:gap-2 text-center border-2 border-b",children:s.map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:ue(e.date)},s.id),Object(u.jsx)("div",{children:e.name}),Object(u.jsx)("div",{children:"entertainment"===e.category?Object(u.jsx)("p",{children:"ent"}):e.category}),Object(u.jsxs)("div",{children:["\xa3",e.amount]}),Object(u.jsx)("div",{onClick:function(){f(e),b(!0)},className:"border-2 border-gray-400 hover:shadow-md w-1/4 sm:w-3/4 rounded-md transform hover:-translate-x-1",children:"edit"}),Object(u.jsx)("div",{onClick:function(){return l(e.id)},className:"border-2 border-gray-400 hover:shadow-md w-1/4 sm:w-3/4 rounded-md transform hover:-translate-x-1",children:"delete"}),Object(u.jsx)("hr",{className:"border-t-2 border-dotted w-3/4 border-primary rounded-3xl my-4 sm:hidden"})]})}))}),Object(u.jsx)("div",{onClick:function(){return t(!0)},className:"border-2 m-auto my-2 border-gray-400 rounded-md hover:shadow-md transform hover:-translate-x-1 p-2 text-center w-3/4 sm:w-1/6",children:"Add Income"})]})},Fe=function(e){var t=e.setShowModal,r=Object(o.useQueryClient)(),a=r.getQueryData(["userData"]),s=Object(n.useState)({name:"",category:"",amount:"",date:"",user:a.id}),c=Object(g.a)(s,2),i=c[0],l=c[1],d=Object(o.useMutation)(ye,{onSuccess:function(){r.invalidateQueries("total"),r.invalidateQueries("incomeCategories"),r.invalidateQueries("largestIncome"),t(!1)}}).mutate,j=function(e){var t=Object(p.a)(Object(p.a)({},i),{},Object(x.a)({},e.target.name,e.target.value));l(t)},h=function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),d(i);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"h-full flex flex-col gap-10 items-center",children:Object(u.jsxs)("form",{onSubmit:h,className:"flex flex-col gap-7 mt-10 w-2/3",children:[Object(u.jsx)("input",{onChange:j,type:"text",name:"name",placeholder:"name",className:"border-primary border-b-2 focus:outline-none"}),Object(u.jsxs)("select",{onChange:j,type:"text",name:"category",placeholder:"category",className:"border-primary border-b-2 focus:outline-none",children:[Object(u.jsx)("option",{children:"choose category"}),"`"," ",Object(u.jsx)("option",{value:"Paycheck",children:"Paycheck"}),Object(u.jsx)("option",{value:"Selling",children:"Selling"}),Object(u.jsx)("option",{value:"Passive",children:"Passive"}),Object(u.jsx)("option",{value:"Misc",children:"Misc"}),"`"]}),Object(u.jsx)("input",{onChange:j,type:"text",name:"amount",placeholder:"amount",className:"border-primary border-b-2 focus:outline-none"}),Object(u.jsx)("input",{onChange:j,type:"date",name:"date",placeholder:"date",className:"border-primary border-b-2 focus:outline-none"}),Object(u.jsxs)("div",{className:"flex items-center justify-around",children:[Object(u.jsx)("button",{className:"transaction-btn w-1/4 text-center",children:"Save"}),Object(u.jsx)("div",{className:"transaction-btn w-1/4 text-center",onClick:function(){return t(!1)},children:"Go Back"})]})]})})},Ee=function(e){var t=e.user,r=e.move,a=Object(n.useState)(!1),s=Object(g.a)(a,2),c=s[0],o=s[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"w-full flex flex-col items-center gap-10 pt-12",children:[Object(u.jsx)("div",{children:Object(u.jsxs)("p",{children:[null===t||void 0===t?void 0:t.username,"'s Income"]})}),Object(u.jsx)("div",{className:" w-full h-3/4 text-xs md:text-sm sm:h-1/3 lg:text-base md:w-10/12 lg:w-3/4 md:h-2/3 border-primary border-2",children:c?Object(u.jsx)(Fe,{setShowModal:o}):Object(u.jsx)(De,{setShowModal:o})}),Object(u.jsx)("p",{children:"See An Overview of This Month's Income"}),Object(u.jsx)("span",{onClick:r,className:"transform hover:scale-150",children:me})]})})},Le=S.common,Ie=function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/personal-assets/saving-pots/",t,{headers:{common:Le}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(O.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.pot,e.next=3,y.a.put("/api/personal-assets/deposit/".concat(r,"/"),n,{headers:{common:Le}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(O.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.pot,console.log(n),e.next=4,y.a.put("/api/personal-assets/withdraw/".concat(r,"/"),n,{headers:{common:Le}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(O.a)(v.a.mark((function e(){var t,r,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k(),r=t.sub,e.next=3,y.a.get("/api/personal-assets/saving-pots/".concat(r,"/"),{headers:{common:Le}});case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,y.a.delete("/api/personal-assets/".concat(t,"/"),{headers:{common:Le}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(O.a)(v.a.mark((function e(t){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/personal-assets/".concat(t,"/"),{headers:{common:Le}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(e){var t=e.user,r=e.pot,a=e.setRender,s=new Date,c="".concat(s.getFullYear(),"-").concat(s.getMonth()+1,"-").concat(s.getDate()),i=Object(o.useQueryClient)(["savings"]),l=Object(o.useQuery)(["balance",r[1]],(function(){return Re(r[1])})),d=l.data,j=l.isLoading,h=Object(o.useQueryClient)(["balance",r[1]]),b=Object(n.useState)({name:r[0],amount:0,date:c,user:t.id}),m=Object(g.a)(b,2),f=m[0],v=m[1],O=Object(n.useState)(!0),w=Object(g.a)(O,2),y=w[0],N=w[1],k=Object(n.useState)(!0),C=Object(g.a)(k,2),S=C[0],Q=C[1],M=Object(o.useMutation)(Ye,{onMutate:function(){var e=f.amount+d.amount,n={id:r[1],name:r[0],amount:e,date:c,user:t.id};h.setQueryData(["balance",r[1]],n)}}).mutate,D=Object(o.useMutation)(Be,{onMutate:function(){var e=d.amount-f.amount;console.log(e);var n={id:r[1],name:r[0],amount:e,date:c,user:t.id};h.setQueryData(["balance",r[1]],n)}}).mutate,F=Object(o.useMutation)(He,{onSuccess:function(){return i.invalidateQueries("savings")}}).mutate;if(j)return Object(u.jsx)("p",{children:"loading your savings pot..."});var E=h.getQueryData(["balance",r[1]]);return Object(u.jsx)("div",{className:"flex flex-col gap-3 items-center",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"text-lg",children:r[0]}),Object(u.jsx)("p",{children:"Current Balance:"}),Object(u.jsx)("p",{children:E.amount}),Object(u.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[Object(u.jsx)("input",{onChange:function(e){var t=Object(p.a)(Object(p.a)({},f),{},Object(x.a)({},e.target.name,parseInt(e.target.value)));v(t)},className:" deposit border-b-4 rounded-md border-primary focus:outline-none",type:"text",name:"amount",placeholder:"Enter amount..."}),y?Object(u.jsx)("div",{onClick:function(){return N(!1)},className:"transaction-btn text-center",children:"Deposit"}):Object(u.jsx)("div",{onClick:function(){N(!0),M({id:r[1],pot:f}),a(),document.querySelector(".deposit").value=""},className:"transaction-btn text-green-300 border-green-300 font-bold text-center",children:"Confirm"})]}),Object(u.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[Object(u.jsx)("input",{onChange:function(e){var t=Object(p.a)(Object(p.a)({},f),{},Object(x.a)({},e.target.name,parseInt(e.target.value)));v(t)},className:"withdraw border-b-4 rounded-md border-primary focus:outline-none",type:"text",name:"amount",placeholder:"Enter amount..."}),S?Object(u.jsx)("div",{onClick:function(){return Q(!1)},className:"transaction-btn text-center",children:"Withdraw"}):Object(u.jsx)("div",{onClick:function(){Q(!0),D({id:r[1],pot:f}),document.querySelector(".withdraw").value=""},className:"transaction-btn text-red-400 border-red-400 font-bold  text-center",children:"Confirm"}),Object(u.jsx)("div",{onClick:function(){return F(r[1]),void a()},className:"dashboard-btn px-4 mt-4",children:"delete pot"})]})]})})},Ge=function(e){var t=e.startDate,r=e.user,a=Object(o.useQueryClient)("savings"),s=Object(n.useState)({name:"",amount:0,date:t,user:r.id}),c=Object(g.a)(s,2),i=c[0],l=c[1],d=Object(n.useState)(!1),j=Object(g.a)(d,2),h=j[0],b=j[1],m=Object(o.useMutation)(Ie,{onSuccess:function(){b(!1),a.invalidateQueries("savings")}}).mutate;return Object(u.jsxs)("div",{className:"flex flex-col items-center justify-center gap-10",children:[Object(u.jsx)("p",{className:"text-center",children:"Looks like you have a spare savings pot"}),Object(u.jsx)("div",{onClick:function(){return b(!0)},className:"dashboard-btn px-4",children:"Create New Pot"}),h&&Object(u.jsxs)("div",{className:"flex flex-col gap-4",children:[Object(u.jsx)("label",{children:"Just pick a name to get started"}),Object(u.jsx)("input",{onChange:function(e){var t=Object(p.a)(Object(p.a)({},i),{},Object(x.a)({},e.target.name,e.target.value));l(t)},className:"border-b-4 rounded-md border-primary focus:outline-none",type:"text",name:"name",placeholder:"my savings pot..."}),Object(u.jsx)("div",{onClick:function(){m(i)},className:"dashboard-btn px-4",children:"Create"})]})]})},qe=function(e){var t=e.user,r=new Date,a="".concat(r.getFullYear(),"-").concat(r.getMonth()+1,"-").concat(r.getDate()),s=Object(o.useQuery)("savings",Pe).data,c=Object(n.useState)(!0),i=Object(g.a)(c,2),l=(i[0],i[1]),d=null===s||void 0===s?void 0:s.map((function(e){return[e.name,e.id]})),j=new Set(d),h=Object(g.a)(j,3),b=h[0],m=h[1],x=h[2];return console.log(b),Object(u.jsxs)("div",{className:"h-screen w-full flex flex-col gap-20 items-center justify-center",children:[Object(u.jsxs)("h2",{className:"text-center text-2xl",children:[t.username,"'s savings"]}),Object(u.jsxs)("div",{className:"grid w-full sm:w-3/4 h-1/2 grid-cols-1 overflow-x-scroll md:grid-cols-3 border-b-2 border-t-2 border-primary rounded-2xl",children:[b?Object(u.jsx)(Te,{pot:b,user:t,setRender:l}):Object(u.jsx)(Ge,{startDate:a,user:t}),m?Object(u.jsx)(Te,{pot:m,user:t,setRender:l}):Object(u.jsx)(Ge,{startDate:a,user:t}),x?Object(u.jsx)(Te,{pot:x,user:t,setRender:l}):Object(u.jsx)(Ge,{startDate:a,user:t})]})]})},ze=r(29),Ae=r(13);Ae.d.register(Ae.a,Ae.l,Ae.f);var Je=function(e,t,r,n,a,s,c,o){return{labels:["Bills","Dining Out","Entertainment","General","Grocery","Retail","Transport","Travel & Leisure"],datasets:[{label:"# of Votes",data:[e,t,r,n,a,s,c,o],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(75, 192, 192, 0.8)","rgba(54, 162, 235, 0.8)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)"],borderWidth:1}]}},We=function(e){e.move;var t,r,n,a=Object(o.useQuery)("categories",B),s=a.data,c=a.isLoading,i=Object(o.useQuery)("total",H).data,l=Object(o.useQuery)("largest",R),d=l.data;return l.isLoading?Object(u.jsx)("p",{children:"Loading..."}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{onClick:function(){window.scroll({top:0,left:0,behavior:"smooth"})},className:" mt-10 transform hover:scale-150",children:xe}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Your total expenses this month so far:"}),Object(u.jsxs)("p",{className:"bg-primary w-1/3 text-center m-auto text-white shadow-sm rounded-md p-2",children:["\xa3",i]})]}),Object(u.jsxs)("div",{className:"p-4",children:[Object(u.jsx)("p",{children:"Your largest expense this month:"}),Object(u.jsxs)("div",{className:"flex gap-2 mt-4",children:[Object(u.jsx)("p",{className:"bg-primary text-white shadow-sm rounded-md p-2",children:null===(t=d[0])||void 0===t?void 0:t.name}),Object(u.jsxs)("p",{className:"bg-primary text-white shadow-sm rounded-md p-2",children:["\xa3",null===(r=d[0])||void 0===r?void 0:r.amount]}),d.length&&Object(u.jsx)("p",{className:"bg-primary text-white shadow-sm rounded-md p-2",children:ue(null===(n=d[0])||void 0===n?void 0:n.date)})]})]})]}),Object(u.jsx)("p",{children:"Your Spending by category this month"}),Object(u.jsx)("div",{className:" w-3/4 sm:w-1/3",children:c?Object(u.jsx)("p",{children:"Loading your data..."}):Object(u.jsx)(ze.a,{data:Je(s.bills,s.dining,s.entertainment,s.general,s.grocery,s.retail,s.transport,s.travel)})})]})};Ae.d.register(Ae.a,Ae.l,Ae.f);var _e=function(e,t,r,n){return{labels:["Paycheck","Selling","Passive","Misc"],datasets:[{label:"# of Votes",data:[e,t,r,n],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)"],borderWidth:1}]}},Ue=function(e){e.move;var t,r,n,a=Object(o.useQuery)("incomeCategories",Ce),s=a.data,c=a.isLoading,i=a.isError,l=Object(o.useQuery)("total",Qe).data,d=Object(o.useQuery)("largestIncome",Se),j=d.data,h=d.isLoading,b=d.isError;return h||c?Object(u.jsx)("p",{children:"Loading..."}):b||i?Object(u.jsx)("p",{children:"No data to display"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{onClick:function(){window.scroll({top:0,left:0,behavior:"smooth"})},className:" mt-10 transform hover:scale-150",children:xe}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"text-center",children:"Your total income this month"}),Object(u.jsxs)("p",{className:"bg-primary w-1/3 text-center m-auto text-white shadow-sm rounded-md p-2",children:["\xa3",l]})]}),Object(u.jsxs)("div",{className:"p-4",children:[Object(u.jsx)("p",{children:"Your largest income this month:"}),j.length&&Object(u.jsxs)("div",{className:"flex gap-2 mt-4",children:[Object(u.jsx)("p",{className:"bg-primary text-white shadow-sm rounded-md p-2",children:null===(t=j[0])||void 0===t?void 0:t.name}),Object(u.jsxs)("p",{className:"bg-primary text-white shadow-sm rounded-md p-2",children:["\xa3",null===(r=j[0])||void 0===r?void 0:r.amount]}),Object(u.jsx)("p",{className:"bg-primary text-white shadow-sm rounded-md p-2",children:ue(null===(n=j[0])||void 0===n?void 0:n.date)})]})]})]}),Object(u.jsx)("p",{children:"Your Spending by category this month"}),Object(u.jsx)("div",{className:" w-3/4 sm:w-1/3",children:c?Object(u.jsx)("p",{children:"Loading your data..."}):Object(u.jsx)(ze.a,{data:_e(s.Paycheck,s.Selling,s.Passive,s.Misc)})})]})},Ve=function(e){e.move;var t,r,n,a=Object(o.useQuery)("categoriesHousehold",ae),s=a.data,c=a.isLoading,i=Object(o.useQuery)("totalHousehold",se).data,l=Object(o.useQuery)("largestHoushold",ce),d=l.data;return l.isLoading?Object(u.jsx)("p",{children:"Loading..."}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{onClick:function(){window.scroll({top:0,left:0,behavior:"smooth"})},className:" mt-10 transform hover:scale-150",children:xe}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Your total expenses this month so far:"}),Object(u.jsxs)("p",{className:"bg-primary w-1/3 text-center m-auto text-white shadow-sm rounded-md p-2",children:["\xa3",i]})]}),Object(u.jsxs)("div",{className:"p-4",children:[Object(u.jsx)("p",{children:"Your largest expense this month:"}),Object(u.jsxs)("div",{className:"flex gap-2 mt-4",children:[Object(u.jsx)("p",{className:"bg-primary text-white shadow-sm rounded-md p-2",children:null===(t=d[0])||void 0===t?void 0:t.name}),Object(u.jsxs)("p",{className:"bg-primary text-white shadow-sm rounded-md p-2",children:["\xa3",null===(r=d[0])||void 0===r?void 0:r.amount]}),d.length&&Object(u.jsx)("p",{className:"bg-primary text-white shadow-sm rounded-md p-2",children:ue(null===(n=d[0])||void 0===n?void 0:n.date)})]})]})]}),Object(u.jsx)("p",{children:"Your Spending by category this month"}),Object(u.jsx)("div",{className:" w-3/4 sm:w-1/3",children:c?Object(u.jsx)("p",{children:"Loading your data..."}):Object(u.jsx)(ze.a,{data:Je(s.bills,s.dining,s.entertainment,s.general,s.grocery,s.retail,s.transport,s.travel)})})]})},Ke=function(e){var t=e.householdInfo,r=Object(n.useState)(!1),a=Object(g.a)(r,2),s=a[0],c=a[1],i=Object(o.useQuery)("houseExpenses",(function(){return ne(t.id)})),l=i.data,d=i.isError;if(i.isLoading)return Object(u.jsx)("p",{children:"loading household expenses..."});if(d)return Object(u.jsx)("p",{children:"Something has gone wrong please try again later"});var j=l.filter((function(e){return!e.resolved}));return Object(u.jsx)("section",{className:"h-full flex flex-col justify-evenly",children:s?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"text-center py-3",children:"Recent Household Expenses"}),Object(u.jsx)("div",{className:"grid grid-cols-1 gap-1 justify-items-center sm:grid-cols-5 h-48 sm:max-h-64 sm:h-full overflow-x-scroll sm:gap-2 text-center border-2 border-b",children:null===j||void 0===j?void 0:j.map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:ue(e.date)},l.id),Object(u.jsx)("div",{children:e.name}),Object(u.jsx)("div",{children:"entertainment"===e.category?Object(u.jsx)("p",{children:"ent"}):e.category}),Object(u.jsxs)("div",{children:["\xa3",e.amount]}),de(e),Object(u.jsx)("hr",{className:"border-t-2 border-dotted w-3/4 border-primary rounded-3xl my-4 sm:hidden"})]})}))}),Object(u.jsx)("div",{onClick:function(){return c(!1)},className:"border-2 m-auto my-2 border-gray-400 rounded-md hover:shadow-md transform duration-300 ease-in-out hover:-translate-x-1 p-2 text-center w-3/4 sm:w-1/4",children:"show all expenses"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"text-center py-3",children:"Recent Household Expenses"}),Object(u.jsx)("div",{className:"grid grid-cols-1 gap-1 justify-items-center sm:grid-cols-5 h-48 sm:max-h-64 sm:h-full overflow-x-scroll sm:gap-2 text-center border-2 border-b",children:null===l||void 0===l?void 0:l.map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:ue(e.date)},l.id),Object(u.jsx)("div",{children:e.name}),Object(u.jsx)("div",{children:"entertainment"===e.category?Object(u.jsx)("p",{children:"ent"}):e.category}),Object(u.jsxs)("div",{children:["\xa3",e.amount]}),de(e),Object(u.jsx)("hr",{className:"border-t-2 border-dotted w-3/4 border-primary rounded-3xl my-4 sm:hidden"})]})}))}),Object(u.jsx)("div",{onClick:function(){return c(!0)},className:"border-2 m-auto my-2 border-gray-400 rounded-md hover:shadow-md transform duration-300 ease-in-out hover:-translate-x-1 p-2 text-center w-3/4 sm:w-1/2",children:"show only unresolved expenses"})]})})},Xe=function(e){var t=e.user,r=e.move,n=Object(o.useQueryClient)().getQueryData(["householdInfo",t.id]);return console.log(t),Object(u.jsx)(u.Fragment,{children:null!==t.household?Object(u.jsxs)("div",{className:"w-full flex flex-col items-center gap-10 pt-12",children:[Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:null===n||void 0===n?void 0:n.name})}),Object(u.jsx)("div",{className:" w-full h-3/4 text-xs md:text-sm sm:h-1/3 lg:text-base md:w-10/12 lg:w-3/4 md:h-1/3 border-primary border-2",children:Object(u.jsx)(Ke,{householdInfo:n})}),Object(u.jsx)("p",{children:"See An Overview of This Month's Expenses"}),Object(u.jsx)("span",{onClick:r,className:"transform hover:scale-150",children:me})]}):Object(u.jsxs)("div",{className:"h-3/4 gap-8 flex flex-col justify-center items-center",children:[Object(u.jsx)("h2",{className:"text-sm sm:text-base",children:"Looks like you are not part of a household yet"}),Object(u.jsx)(l.b,{to:"/manage-household",children:Object(u.jsx)("div",{className:"dashboard-btn text-sm sm:text-base px-4",children:"Join or create a household"})})]})})},Ze=function(){var e=Object(o.useQuery)("userData",I),t=e.data,r=e.isLoading,a=e.isError,s=Object(n.useState)(0),c=Object(g.a)(s,2),i=c[0],l=c[1];if(r)return Object(u.jsx)("p",{children:"Loading..."});if(a)return Object(u.jsx)("p",{children:"Sorry, we're experiencing a problem, please try again later"});var d=function(){document.querySelector(".sidebar").classList.toggle("-translate-x-full")},j=function(){var e=document.querySelector(".reveal-page");e.classList.remove("hide-page"),e.classList.add("show-page"),window.scroll({top:950,left:0,behavior:"smooth"})};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"h-screen w-full relative overflow-x-hidden ",children:[Object(u.jsx)("div",{onClick:d,className:" cursor-pointer z-10 fixed top-4 right-4 hover:bg-gray-200",children:U}),Object(u.jsx)("div",{className:" sidebar z-10 absolute h-screen rounded-sm bg-primary bg-opacity-85 w-2/5 sm:w-1/3 flex flex-col justify-around transform -translate-x-full transition duration-300 ease-in-out",children:Object(u.jsx)(ie,{setNavigate:l,showSideBar:d})}),Object(u.jsxs)("div",{className:" z-0 main-content h-screen w-full absolute top-0 transform translate-x-0 transition duration-300 ease-in-out",children:[0===i&&Object(u.jsx)(oe,{user:t}),1===i&&Object(u.jsx)(Ee,{user:t,move:j}),2===i&&Object(u.jsx)(pe,{user:t,move:j}),3===i&&Object(u.jsx)(qe,{user:t}),4===i&&Object(u.jsx)(Xe,{user:t,move:j})]})]}),2===i&&Object(u.jsx)("div",{className:"reveal-page hide-page",children:Object(u.jsx)(We,{})}),1===i&&Object(u.jsx)("div",{className:"reveal-page hide-page",children:Object(u.jsx)(Ue,{})}),4===i&&Object(u.jsx)("div",{className:"reveal-page hide-page",children:Object(u.jsx)(Ve,{})})]})},$e=function(){var e=Object(o.useQueryClient)(),t=e.getQueryData("userData"),r=Object(o.useQueryClient)(),a=Object(d.f)(),s=Object(n.useState)(!1),c=Object(g.a)(s,2),i=c[0],j=c[1],h=Object(n.useState)(!1),b=Object(g.a)(h,2),m=b[0],f=b[1],v=Object(n.useState)(!1),O=Object(g.a)(v,2),w=O[0],y=O[1],N=Object(n.useState)(!1),k=Object(g.a)(N,2),C=k[0],S=k[1],Q=Object(n.useState)({name:""}),M=Object(g.a)(Q,2),D=M[0],F=M[1],E=Object(n.useState)(null),L=Object(g.a)(E,2),I=L[0],Y=L[1],B=Object(o.useMutation)(te,{onSuccess:function(){return S(!0)}}).mutate,P=Object(o.useMutation)($,{onSuccess:function(e){j(!0),Y({household:e.id})}}),H=P.mutate,R=(P.data,Object(o.useMutation)((function(){return ee(I)}),{onSuccess:function(){return r.invalidateQueries(["householdInfo",t.id])}}).mutate),T=Object(n.useState)({household:""}),G=Object(g.a)(T,2),q=G[0],z=G[1],A=Object(o.useMutation)(ee,{onSuccess:function(){y(!0),e.invalidateQueries(["userData"])}}).mutate;return Object(u.jsxs)("div",{className:"bg-primary h-screen flex flex-col justify-evenly items-center",children:[Object(u.jsx)("h2",{className:"text-white text-xl sm:text-3xl",children:"Manage your Household"}),Object(u.jsx)("div",{onClick:function(){return a.push("/dashboard")},className:"alt-btn",children:"Back to Dashboard"}),C?Object(u.jsxs)("div",{className:"text-xs sm:text-base px-4 bg-green-500 bg-opacity-90 alt-btn",children:[" ","Success!"]}):Object(u.jsx)("div",{className:"text-xs sm:text-base alt-btn",onClick:function(){return B()},children:"Leave Current Household"}),Object(u.jsxs)("div",{className:"flex gap-4 sm:gap-32 justify-center w-full sm:w-3/4 h-1/2 text-xs sm:text-base",children:[m?Object(u.jsxs)("div",{className:"h-64",children:[Object(u.jsx)("div",{className:"text-center text-lg",children:"Success!"}),Object(u.jsx)(l.b,{to:"/dashboard",children:Object(u.jsx)("div",{className:"alt-btn mt-8 text-center",children:"Back to Dashboard"})})]}):Object(u.jsxs)("div",{className:"flex flex-col gap-10 w-2/5 sm:w-1/3",children:[Object(u.jsx)("div",{onClick:function(){document.querySelector(".show-create-form").classList.toggle("opacity-0")},className:"alt-btn text-center ",children:"Create a household"}),i?Object(u.jsxs)("div",{className:"h-64",children:[Object(u.jsx)("div",{className:"text-center text-lg",children:"Confirm new household?"}),Object(u.jsx)("div",{onClick:function(){R(I),f(!0),r.invalidateQueries(["householdInfo"],t.id)},className:"alt-btn mt-8 text-center",children:"Confirm"})]}):Object(u.jsxs)("div",{className:"show-create-form h-1/3 sm:h-64 opacity-0 transition duration-500 ease-in-out",children:[Object(u.jsx)("p",{className:" text-xs sm:text-lg",children:"All you have to do is pick a name:"}),Object(u.jsxs)("form",{className:"flex flex-col mt-5 gap-10",onSubmit:function(e){e.preventDefault(),H(D)},children:[Object(u.jsx)("input",{onChange:function(e){var t=Object(p.a)(Object(p.a)({},D),{},Object(x.a)({},e.target.name,e.target.value));F(t)},type:"text",name:"name",placeholder:"My household...",className:" rounded-md mt-3 p-1 bg-primary border-b-2 focus:outline-none placeholder-white"}),Object(u.jsx)("button",{className:"alt-btn",children:"Create"})]})]})]}),Object(u.jsxs)("div",{className:"flex w-2/5 sm:w-1/3 flex-col gap-10",children:[Object(u.jsx)("div",{onClick:function(){document.querySelector(".show-join-form").classList.toggle("opacity-0")},className:"alt-btn text-center ",children:"Join a household"}),w?Object(u.jsxs)("div",{className:"h-64",children:[Object(u.jsx)("div",{className:"text-center text-lg",children:"Success!"}),Object(u.jsx)(l.b,{to:"/dashboard",children:Object(u.jsx)("div",{className:"alt-btn mt-8 text-center",children:"Back to Dashboard"})})]}):Object(u.jsxs)("div",{className:"show-join-form h-1/3 sm:h-64 opacity-0 transition duration-500 ease-in-out",children:[Object(u.jsxs)("p",{className:" text-xs sm:text-lg text-center",children:["Enter the unique"," ",Object(u.jsx)("span",{className:"text-white",children:"household ID"})," of the household you'd like to join"]}),Object(u.jsxs)("form",{className:"flex flex-col mt-5 gap-10",onSubmit:function(e){e.preventDefault(),A(q)},children:[Object(u.jsx)("input",{onChange:function(e){var t=Object(p.a)(Object(p.a)({},q),{},Object(x.a)({},e.target.name,e.target.value));z(t)},type:"text",name:"household",placeholder:"Household ID...",className:" rounded-md mt-3 p-1 bg-primary border-b-2 focus:outline-none placeholder-white"}),Object(u.jsx)("button",{className:"alt-btn",children:"Join"})]})]})]})]})]})};var et=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(l.a,{children:Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{exact:!0,path:"/",component:m}),Object(u.jsx)(d.a,{exact:!0,path:"/login",component:W}),Object(u.jsx)(d.a,{exact:!0,path:"/register",component:_}),Object(u.jsx)(d.a,{exact:!0,path:"/dashboard",component:Ze}),Object(u.jsx)(d.a,{exact:!0,path:"/household-dashboard",component:Xe}),Object(u.jsx)(d.a,{exact:!0,path:"/manage-household",component:$e})]})})})},tt=new o.QueryClient;c.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsxs)(o.QueryClientProvider,{client:tt,children:[Object(u.jsx)(et,{}),Object(u.jsx)(i.ReactQueryDevtools,{})]})}),document.getElementById("root"))},77:function(e,t,r){}},[[103,1,2]]]);
//# sourceMappingURL=main.e5e4bff1.chunk.js.map